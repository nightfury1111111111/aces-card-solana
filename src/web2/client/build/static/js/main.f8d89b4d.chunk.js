(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{104:function(e,t,n){e.exports={Header:"Header_Header__RWSel",HeaderHome:"Header_HeaderHome__4fkBX Header_Header__RWSel",HeaderGame:"Header_HeaderGame__20foV Header_Header__RWSel",ProfileButton:"Header_ProfileButton__77GX2"}},105:function(e,t,n){e.exports={Home:"Home_Home__1aUBM",Content:"Home_Content__2ue8L",Or:"Home_Or__1IcPt","wallet-adapter-button":"Home_wallet-adapter-button__S-GGy"}},106:function(e,t,n){e.exports={LeaderboardContainer:"Leaderboard_LeaderboardContainer__DjWNe",Leaderboard:"Leaderboard_Leaderboard__1JspY",BoldRank:"Leaderboard_BoldRank__2L6LA"}},227:function(e,t,n){},229:function(e,t){},232:function(e,t){},250:function(e,t){},251:function(e,t){},289:function(e,t,n){},291:function(e,t){},293:function(e,t){},304:function(e,t){},306:function(e,t){},31:function(e,t,n){e.exports={DashContainer:"Dashboard_DashContainer__G4W5n",Dashboard:"Dashboard_Dashboard__1uK3T",Play:"Dashboard_Play__1d_2z",Replay:"Dashboard_Replay__2R53y",Hand:"Dashboard_Hand__17d2t",Cards:"Dashboard_Cards__2XYZz",CardGrid:"Dashboard_CardGrid__2Vfkb",Headline:"Dashboard_Headline__3lSWr",Card:"Dashboard_Card__2tCQ2",Stats:"Dashboard_Stats__1e_pm"}},333:function(e,t){},335:function(e,t){},341:function(e,t){},353:function(e,t){},356:function(e,t){},367:function(e,t){},368:function(e,t){},399:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(95),c=n.n(r),s=(n(227),n(9)),i=n(17),o=n(94),l=n(20),d=n(411),j=n(412),b=n(413),u=n(414),O=n(415),f=n(408),h=n(409),p=n(212),x=n(211),_=n(416),m=n(410),g=n(145),v=n(5),k=n(1),y=n.n(k),C=n(51),P=n.n(C),S=function(){var e=Object(v.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("/users/login",{user:t},{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/users/history/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=n(104),R=n.n(H),w=n(4),D=function(e){var t=e.user,n=e.onProfileClick,a="184px";return Object(w.jsxs)("div",{className:t?R.a.HeaderGame:R.a.HeaderHome,children:[Object(w.jsx)("div",{style:{minWidth:a},children:Object(w.jsxs)("p",{children:["The ",Object(w.jsx)("b",{children:"ACES"})]})}),Object(w.jsxs)("p",{children:["The ",Object(w.jsx)("b",{children:"ACES Contest"})]}),Object(w.jsx)("div",{style:{minWidth:a},children:Object(w.jsx)("button",{className:R.a.ProfileButton,onClick:n,style:t?{width:a}:{display:"none"},children:"PROFILE"})})]})},A=n(105),E=n.n(A);n(288),n(289);var G=function(e){var t=e.wallet,n=Object(a.useState)(!1),r=Object(s.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){t.publicKey&&(S(t.publicKey.toString()),o(!0))}),[t]),c?Object(w.jsx)(i.a,{to:"/play"}):Object(w.jsxs)("div",{className:E.a.Home,children:[Object(w.jsx)(D,{user:!1,onProfileClick:function(){}}),Object(w.jsxs)("div",{className:E.a.Content,children:[Object(w.jsx)(g.a,{children:Object(w.jsx)(g.b,{children:"PLAY"})}),Object(w.jsxs)("div",{className:E.a.Or,children:[Object(w.jsx)("div",{}),Object(w.jsx)("hr",{}),Object(w.jsx)("p",{children:"Or"}),Object(w.jsx)("hr",{})]}),Object(w.jsx)("a",{href:"https://www.magiceden.io/marketplace/the_aces_nft",children:"BUY"}),Object(w.jsx)("p",{children:"In Order to Play the Game You Must Hold At Least 1 Aces NFT"}),Object(w.jsxs)("p",{children:["This version is in ",Object(w.jsx)("b",{children:"Beta Mode"})]})]})]})},I=function(){var e=Object(v.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/games/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data.entries);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(v.a)(y.a.mark((function e(t,n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("/games/play/".concat(n),{gameType:n.substring(8),user:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=n(31),B=n.n(L),W=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],M=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MAX_ENTRIES||15,F=function(e){var t=e.wallet,n=e.gameId,r=e.rank,c=e.setRank,i=e.rankings,o=e.setRankings,l=e.reloadRankings,d=e.setReloadRankings,j=Object(a.useState)([]),b=Object(s.a)(j,2),u=b[0],O=b[1],f=Object(a.useState)([]),h=Object(s.a)(f,2),p=h[0],x=h[1],_=Object(a.useState)(),m=Object(s.a)(_,2),g=m[0],v=m[1],k=Object(a.useState)(20),y=Object(s.a)(k,2),C=y[0],P=y[1];Object(a.useEffect)((function(){g&&0===l&&(O(g.aces?g.aces:[]),x(g.wildCards))}),[t,n,g,l,O,x]),Object(a.useEffect)((function(){if(i){var e=i.map((function(e){return e.user})).indexOf(t);-1!==e&&v(i[e]);for(var n=0,a=0;a<i.length;a++)i[a].user===t&&(n+=1);P(n)}}),[t,i,P]);var S=Object(a.useState)("PLAY AGAIN"),N=Object(s.a)(S,2),H=N[0],R=N[1],D=function(){R("Thinking..."),T(t,n).then((function(e){e&&e!=={}&&(O(e.aces),x(e.wildCards),t&&I(n).then((function(e){if(o(e),e){var n=e.map((function(e){return e.user})).indexOf(t);c(-1===n?"?":n+1),-1!==n&&v(e[n])}})),d(l+1),R("PLAY AGAIN"))}))};return Object(w.jsx)("div",{className:B.a.DashContainer,children:Object(w.jsxs)("div",{className:B.a.Dashboard,children:[Object(w.jsx)("div",{className:B.a.Play,children:g?g.handType?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("p",{children:"".concat((g.handType[0].toUpperCase()+g.handType.slice(1)).replace("-"," "))}),Object(w.jsx)("div",{className:B.a.Hand,children:g.hand.sort((function(e,t){return W.indexOf(1===t.face.length?t.face:t.face[0].toUpperCase())-W.indexOf(1===e.face.length?e.face:e.face[0].toUpperCase())})).map((function(e,t){return Object(w.jsx)("div",{children:e.image?Object(w.jsx)("img",{src:e.image,alt:e.face+" of "+e.suit}):Object(w.jsx)("img",{src:"/images/wildCards/".concat(e.face).concat(e.suit,".png"),alt:e.face+" of "+e.suit})},t)}))}),Object(w.jsxs)("div",{className:B.a.Replay,children:[Object(w.jsxs)("div",{className:B.a.Stats,children:[Object(w.jsxs)("p",{children:[Object(w.jsx)("b",{children:"Rank: "}),i?"".concat(r,"/").concat(i.length):""]}),Object(w.jsxs)("p",{children:[Object(w.jsx)("b",{children:"Entries: "}),"".concat(C,"/").concat(M)]})]}),Object(w.jsx)("button",{onClick:function(){return D()},disabled:!!(C&&C>=M||"PLAY AGAIN"!==H),children:H})]})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("p",{children:"Need at least 1 Aces NFT to play the card contest."}),Object(w.jsx)("button",{onClick:function(){return D()},children:"PLAY"}),Object(w.jsx)("p",{children:i?"Rank: ".concat(r,"/").concat(i.length):"Rank"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("p",{children:"Best Hand"}),Object(w.jsx)("button",{onClick:function(){return D()},children:"PLAY"}),Object(w.jsx)("p",{children:i?"Rank: ".concat(r,"/").concat(i.length):"Rank"})]})}),Object(w.jsx)("hr",{}),Object(w.jsx)("div",{className:B.a.Cards,children:Object(w.jsxs)("div",{className:B.a.CardGrid,children:[Object(w.jsx)("div",{className:B.a.Headline,children:Object(w.jsx)("p",{children:"ACES"})}),u&&u.length>0?u.map((function(e,t){return Object(w.jsx)("div",{className:B.a.Card,children:Object(w.jsx)("img",{src:e.image,alt:e.face+" of "+e.suit})},t)})):Object(w.jsx)(w.Fragment,{}),Object(w.jsx)("div",{className:B.a.Headline,children:Object(w.jsx)("p",{children:"Table Cards"})}),p.map((function(e,t){return Object(w.jsx)("div",{className:B.a.Card,children:Object(w.jsx)("img",{src:"/images/wildCards/".concat(e.face).concat(e.suit,".png"),alt:e.face+" of "+e.suit})},t)}))]})})]})})},K=n(106),Y=n.n(K),U=function(e){var t=e.rankings,n=e.rank,r=e.wallet,c="deuceswild"===e.gameId.substring(8)?"Deuces Wild":"Five Card Poker",i=Object(a.useState)(),o=Object(s.a)(i,2),l=o[0],d=o[1];return Object(a.useEffect)((function(){if(t){var e;e=(e=n<=5||"?"===n?t.slice(0,Math.min(10,t.length)):n>t.length-5?t.slice(t.length-Math.min(10,t.length),t.length):t.slice(n-Math.min(5,t.length/2),n).concat(t.slice(n,n+Math.min(5,t.length/2)))).map((function(e){return{rank:0,user:e.user}}));for(var a=-1,c=0;c<e.length;c++)if(e[c].user===r){a=c;break}if(-1===a)d(t.slice(0,Math.min(10,t.length)).map((function(e,t){return{rank:t+1,user:e.user}})));else{for(var s=0;s<e.length;s++)e[s].rank=a!==s?n+s-a:n;d(e)}}}),[t,n,r,d]),Object(w.jsx)("div",{className:Y.a.LeaderboardContainer,children:Object(w.jsxs)("div",{className:Y.a.Leaderboard,children:[Object(w.jsxs)("h1",{children:["Leaderboard: ",c]}),Object(w.jsx)("hr",{}),Object(w.jsx)("ul",{children:l?l.map((function(e,t){return Object(w.jsx)("li",{className:Number(e.rank)===Number(n)?Y.a.BoldRank:"",children:"#".concat(e.rank,": ")+e.user},t)})):Object(w.jsx)(w.Fragment,{})})]})})},z=n(56),J=n.n(z),X=function(e){var t=e.wallet,n=e.isProfileOpen,r=e.setIsProfileOpen,c=Object(a.useState)(),i=Object(s.a)(c,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){N(t).then((function(e){l(e)}))}),[t,l]),Object(w.jsx)("div",{className:n?J.a.ProfileBlock:J.a.ProfileNone,children:Object(w.jsxs)("div",{className:J.a.ProfileMain,children:[Object(w.jsx)("button",{onClick:function(){return r(!1)}}),Object(w.jsxs)("div",{className:J.a.ProfileInner,children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"Wallet ID"}),Object(w.jsx)("p",{style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"50%"},children:t})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"Games played:"}),Object(w.jsx)("p",{children:null!==o&&void 0!==o&&o.games?o.games.length:"0"})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"Coin balance:"}),Object(w.jsx)("p",{children:"Coming soon!"})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"Contest history:"}),Object(w.jsx)("div",{className:J.a.History,children:null!==o&&void 0!==o&&o.games?o.games.slice(0,5).map((function(e,t){return"testtest"!==e.substring(0,8)?Object(w.jsx)("div",{className:J.a.HistoryEntry,children:"".concat("deuceswild"===e.substring(8)?"2's Wild ":"5 Card ").concat(String(Number(e.substring(2,4))+1).padStart(2,"0"),"/").concat(e.substring(0,2)," - Rank ").concat(o.ranks[t],"/").concat(o.totals[t])},t):Object(w.jsx)(w.Fragment,{})})):Object(w.jsx)("p",{children:"Play your first game!"})})]})]})]})})},Z=n(75),V=n.n(Z),Q=function(e){var t=e.wallet,n=e.gameId,r=e.rankings,c=e.setRankings,o=e.reloadRankings,l=e.setReloadRankings,d=Object(a.useState)(!1),j=Object(s.a)(d,2),b=j[0],u=j[1],O=Object(a.useState)("?"),f=Object(s.a)(O,2),h=f[0],p=f[1];return Object(a.useEffect)((function(){null!==t&&void 0!==t&&t.publicKey&&I(n).then((function(e){if(c(e),e){var n=e.map((function(e){return e.user})).indexOf(t.publicKey.toString());p(-1===n?"?":n+1)}else p("?")}))}),[t,n,o,p,c]),t.publicKey?Object(w.jsxs)("div",{className:V.a.Game,children:[Object(w.jsx)("p",{children:Object(w.jsx)("b",{children:"BETA"})}),Object(w.jsxs)("div",{className:V.a.Content,children:[Object(w.jsxs)("div",{className:V.a.GameArea,children:[Object(w.jsx)(D,{user:!0,onProfileClick:function(){return u(!0)}}),Object(w.jsx)(F,{wallet:t.publicKey.toString(),gameId:n,rankings:r,rank:h,reloadRankings:o,setRankings:c,setRank:p,setReloadRankings:l})]}),Object(w.jsx)("div",{className:V.a.Rankings,children:Object(w.jsx)(U,{wallet:t.publicKey.toString(),gameId:n,rankings:r,rank:h})})]}),Object(w.jsx)(X,{wallet:t.publicKey.toString(),isProfileOpen:b,setIsProfileOpen:u})]}):Object(w.jsx)(i.a,{to:"/"})},q=function(){var e=Object(x.b)(),t=new Date,n=new Date(t.getTime()+6e4*t.getTimezoneOffset()),r=-1!==["24","25","26","27","28","29","30"].indexOf(String(n.getDate()).padStart(2,"0"))?"deuceswild":"5card",c=String(n.getDate()).padStart(2,"0")+String(n.getMonth()).padStart(2,"0")+String(n.getFullYear())+r,o=Object(a.useState)(),l=Object(s.a)(o,2),d=l[0],j=l[1],b=Object(a.useState)(0),u=Object(s.a)(b,2),O=u[0],f=u[1];return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(i.d,{children:[Object(w.jsx)(i.b,{path:"/",element:Object(w.jsx)(G,{wallet:e})}),Object(w.jsx)(i.b,{path:"/play",element:Object(w.jsx)(Q,{wallet:e,gameId:c,rankings:d,setRankings:j,reloadRankings:O,setReloadRankings:f})})]})})},$=function(){var e=p.b.Mainnet,t=Object(l.d)(e),n=Object(a.useMemo)((function(){return[Object(d.a)(),Object(j.a)(),Object(b.a)(),Object(u.a)({options:{clientId:"Get a client ID @ https://developer.tor.us"}}),Object(O.a)(),Object(f.a)({network:e}),Object(h.a)({network:e})]}),[e]);return Object(w.jsx)(_.a,{endpoint:t,children:Object(w.jsx)(m.a,{wallets:n,children:Object(w.jsx)(o.a,{children:Object(w.jsx)(q,{})})})})};c.a.render(Object(w.jsx)($,{}),document.getElementById("root"))},56:function(e,t,n){e.exports={Profile:"Profile_Profile__nD2-Z",ProfileMain:"Profile_ProfileMain__18I6y",ProfileInner:"Profile_ProfileInner__risdd",ProfileBlock:"Profile_ProfileBlock__1_2dO Profile_Profile__nD2-Z",ProfileNone:"Profile_ProfileNone__ePzbk Profile_Profile__nD2-Z",History:"Profile_History__3oShl",HistoryEntry:"Profile_HistoryEntry__3jN5Y"}},75:function(e,t,n){e.exports={Game:"Game_Game__1qzE8",Content:"Game_Content__2W_3p",GameArea:"Game_GameArea__38dyN",Rankings:"Game_Rankings__1yrWx"}}},[[399,1,2]]]);
//# sourceMappingURL=main.f8d89b4d.chunk.js.map