(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{104:function(e,t,n){e.exports={Header:"Header_Header__RWSel",HeaderHome:"Header_HeaderHome__4fkBX Header_Header__RWSel",HeaderGame:"Header_HeaderGame__20foV Header_Header__RWSel",ProfileButton:"Header_ProfileButton__77GX2"}},105:function(e,t,n){e.exports={Home:"Home_Home__1aUBM",Content:"Home_Content__2ue8L",Or:"Home_Or__1IcPt","wallet-adapter-button":"Home_wallet-adapter-button__S-GGy"}},106:function(e,t,n){e.exports={LeaderboardContainer:"Leaderboard_LeaderboardContainer__DjWNe",Leaderboard:"Leaderboard_Leaderboard__1JspY",BoldRank:"Leaderboard_BoldRank__2L6LA"}},227:function(e,t,n){},229:function(e,t){},232:function(e,t){},250:function(e,t){},251:function(e,t){},289:function(e,t,n){},291:function(e,t){},293:function(e,t){},304:function(e,t){},306:function(e,t){},31:function(e,t,n){e.exports={DashContainer:"Dashboard_DashContainer__G4W5n",Dashboard:"Dashboard_Dashboard__1uK3T",Play:"Dashboard_Play__1d_2z",Replay:"Dashboard_Replay__2R53y",Hand:"Dashboard_Hand__17d2t",Cards:"Dashboard_Cards__2XYZz",CardGrid:"Dashboard_CardGrid__2Vfkb",Headline:"Dashboard_Headline__3lSWr",Card:"Dashboard_Card__2tCQ2",Stats:"Dashboard_Stats__1e_pm"}},333:function(e,t){},335:function(e,t){},341:function(e,t){},353:function(e,t){},356:function(e,t){},367:function(e,t){},368:function(e,t){},399:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(95),r=n.n(c),s=(n(227),n(17)),i=n(94),o=n(20),l=n(411),d=n(412),j=n(413),u=n(414),b=n(415),f=n(408),O=n(409),h=n(212),p=n(211),x=n(416),_=n(410),m=n(9),g=n(145),v=n(5),y=n(1),k=n.n(y),C=n(51),P=n.n(C),H=function(){var e=Object(v.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("/users/login",{user:t},{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/users/history/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(k.a.mark((function e(t,n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/users/cards/".concat(t,"-").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data.cards);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=n(104),R=n.n(S),D=n(4),G=function(e){var t=e.user,n=e.onProfileClick,a="184px";return Object(D.jsxs)("div",{className:t?R.a.HeaderGame:R.a.HeaderHome,children:[Object(D.jsx)("div",{style:{minWidth:a},children:Object(D.jsxs)("p",{children:["The ",Object(D.jsx)("b",{children:"ACES"})]})}),Object(D.jsxs)("p",{children:["The ",Object(D.jsx)("b",{children:"ACES Contest"})]}),Object(D.jsx)("div",{style:{minWidth:a},children:Object(D.jsx)("button",{className:R.a.ProfileButton,onClick:n,style:t?{width:a}:{display:"none"},children:"PROFILE"})})]})},E=n(105),L=n.n(E);n(288),n(289);var I=function(e){var t=e.wallet,n=Object(a.useState)(!1),c=Object(m.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){t.publicKey&&(H(t.publicKey.toString()),i(!0))}),[t]),r?Object(D.jsx)(s.a,{to:"/play"}):Object(D.jsxs)("div",{className:L.a.Home,children:[Object(D.jsx)(G,{user:!1,onProfileClick:function(){}}),Object(D.jsxs)("div",{className:L.a.Content,children:[Object(D.jsx)(g.a,{children:Object(D.jsx)(g.b,{children:"PLAY"})}),Object(D.jsxs)("div",{className:L.a.Or,children:[Object(D.jsx)("div",{}),Object(D.jsx)("hr",{}),Object(D.jsx)("p",{children:"Or"}),Object(D.jsx)("hr",{})]}),Object(D.jsx)("a",{href:"https://www.magiceden.io",children:"BUY"}),Object(D.jsx)("p",{children:"In Order to Play the Game You Must Hold At Least 1 Aces NFT"})]})]})},A=function(){var e=Object(v.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/games/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data.entries);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(v.a)(k.a.mark((function e(t,n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("/games/play/".concat(n),{gameType:n.substring(8),user:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=n(31),W=n.n(M),F=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],T=function(e){var t=e.wallet,n=e.gameId,c=e.rank,r=e.setRank,s=e.rankings,i=e.setRankings,o=e.reloadRankings,l=e.setReloadRankings,d=Object(a.useState)(),j=Object(m.a)(d,2),u=j[0],b=j[1],f=Object(a.useState)([]),O=Object(m.a)(f,2),h=O[0],p=O[1],x=Object(a.useState)([]),_=Object(m.a)(x,2),g=_[0],v=_[1],y=Object(a.useState)(),k=Object(m.a)(y,2),C=k[0],P=k[1],H=Object(a.useState)(),N=Object(m.a)(H,2),S=N[0],R=N[1];Object(a.useEffect)((function(){return w(t,n).then((function(e){b(e)})),function(){return b([])}}),[t,n,s]),Object(a.useEffect)((function(){u&&p(u.filter((function(e){return e.image})))}),[u,p]),Object(a.useEffect)((function(){u&&v(u.filter((function(e){return!e.image})))}),[u,v]),Object(a.useEffect)((function(){if(s){var e=s.map((function(e){return e.user})).indexOf(t);-1!==e&&P(s[e]);for(var n=0,a=0;a<s.length;a++)s[a].user===t&&(n+=1);R(n)}}),[t,s,R]);var G=function(){B(t,n).then((function(e){e&&e!=={}&&(P(e),t&&A(n).then((function(e){if(i(e),e){var n=e.map((function(e){return e.user})).indexOf(t);r(-1===n?"?":n+1)}})),l(o+1))}))};return Object(D.jsx)("div",{className:W.a.DashContainer,children:Object(D.jsxs)("div",{className:W.a.Dashboard,children:[Object(D.jsx)("div",{className:W.a.Play,children:C?C.handType?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("p",{children:"".concat((C.handType[0].toUpperCase()+C.handType.slice(1)).replace("-"," "))}),Object(D.jsx)("div",{className:W.a.Hand,children:C.hand.sort((function(e,t){return F.indexOf(1===t.face.length?t.face:t.face[0].toUpperCase())-F.indexOf(1===e.face.length?e.face:e.face[0].toUpperCase())})).map((function(e,t){return Object(D.jsx)("div",{children:e.image?Object(D.jsx)("img",{src:e.image,alt:e.face+" of "+e.suit}):Object(D.jsx)("img",{src:"/images/wildCards/".concat(e.face).concat(e.suit,".png"),alt:e.face+" of "+e.suit})},t)}))}),Object(D.jsxs)("div",{className:W.a.Replay,children:[Object(D.jsxs)("div",{className:W.a.Stats,children:[Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Rank: "}),s?"".concat(c,"/").concat(s.length):""]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Entries: "}),"".concat(S,"/").concat(3)]})]}),Object(D.jsx)("button",{onClick:function(){return G()},disabled:!!(S&&S>=3),children:"RESHUFFLE"})]})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("p",{children:"Need at least 1 Aces NFT to play the card contest."}),Object(D.jsx)("button",{onClick:function(){return G()},children:"PLAY"}),Object(D.jsx)("p",{children:s?"Rank: ".concat(c,"/").concat(s.length):"Rank"})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("p",{children:"Best Hand"}),Object(D.jsx)("button",{onClick:function(){return G()},children:"PLAY"}),Object(D.jsx)("p",{children:s?"Rank: ".concat(c,"/").concat(s.length):"Rank"})]})}),Object(D.jsx)("hr",{}),Object(D.jsx)("div",{className:W.a.Cards,children:Object(D.jsxs)("div",{className:W.a.CardGrid,children:[Object(D.jsx)("div",{className:W.a.Headline,children:Object(D.jsx)("p",{children:"ACES"})}),h.sort((function(e,t){return F.indexOf(1===t.face.length?t.face:t.face[0].toUpperCase())-F.indexOf(1===e.face.length?e.face:e.face[0].toUpperCase())})).map((function(e,t){return Object(D.jsx)("div",{className:W.a.Card,children:Object(D.jsx)("img",{src:e.image,alt:e.face+" of "+e.suit})},t)})),Object(D.jsx)("div",{className:W.a.Headline,children:Object(D.jsx)("p",{children:"Table Cards"})}),g.map((function(e,t){return Object(D.jsx)("div",{className:W.a.Card,children:Object(D.jsx)("img",{src:"/images/wildCards/".concat(e.face).concat(e.suit,".png"),alt:e.face+" of "+e.suit})},t)}))]})})]})})},K=n(106),Y=n.n(K),U=function(e){var t=e.rankings,n=e.rank,c=Object(a.useState)(),r=Object(m.a)(c,2),s=r[0],i=r[1],o=n-1;return Object(a.useEffect)((function(){t&&(n<=5?i(t.slice(0,Math.min(8,t.length))):n>t.length-5?i(t.slice(t.length-Math.min(8,t.length),t.length)):i(t.slice(n-Math.min(4,t.length/2),n).concat(t.slice(n,n+Math.min(4,t.length/2)))))}),[t,n,i]),Object(D.jsx)("div",{className:Y.a.LeaderboardContainer,children:Object(D.jsxs)("div",{className:Y.a.Leaderboard,children:[Object(D.jsx)("h1",{children:"Leaderboard"}),Object(D.jsx)("hr",{}),Object(D.jsx)("ul",{children:s?s.map((function(e,t){return Object(D.jsx)("li",{className:t===o?Y.a.BoldRank:"",children:"#".concat(t+1,": ")+e.user},t)})):Object(D.jsx)(D.Fragment,{})})]})})},z=n(56),J=n.n(z),Z=function(e){var t=e.wallet,n=e.isProfileOpen,c=e.setIsProfileOpen,r=Object(a.useState)(),s=Object(m.a)(r,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){N(t).then((function(e){o(e)}))}),[t,o]),Object(D.jsx)("div",{className:n?J.a.ProfileBlock:J.a.ProfileNone,children:Object(D.jsxs)("div",{className:J.a.ProfileMain,children:[Object(D.jsx)("button",{onClick:function(){return c(!1)}}),Object(D.jsxs)("div",{className:J.a.ProfileInner,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{children:"Wallet ID"}),Object(D.jsx)("p",{style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"50%"},children:t})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{children:"Games played:"}),Object(D.jsx)("p",{children:null!==i&&void 0!==i&&i.games?i.games.length:"0"})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{children:"Coin balance:"}),Object(D.jsx)("p",{children:"Coming soon!"})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{children:"Contest history:"}),Object(D.jsx)("div",{className:J.a.History,children:null!==i&&void 0!==i&&i.games?i.games.slice(0,5).map((function(e,t){return Object(D.jsx)("div",{className:J.a.HistoryEntry,children:"".concat(e.substring(2,4),"/").concat(e.substring(0,2),"/").concat(e.substring(4,8)," - Rank ").concat(i.ranks[t],"/").concat(i.totals[t])},t)})):Object(D.jsx)("p",{children:"Play your first game!"})})]})]})]})})},X=n(75),Q=n.n(X),V=function(e){var t=e.wallet,n=String((new Date).getDate()).padStart(2,"0")+String((new Date).getMonth()).padStart(2,"0")+String((new Date).getFullYear())+"5card",c=Object(a.useState)(!1),r=Object(m.a)(c,2),i=r[0],o=r[1],l=Object(a.useState)(),d=Object(m.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)("?"),f=Object(m.a)(b,2),O=f[0],h=f[1],p=Object(a.useState)(0),x=Object(m.a)(p,2),_=x[0],g=x[1];return Object(a.useEffect)((function(){null!==t&&void 0!==t&&t.publicKey&&A(n).then((function(e){if(u(e),e){var n=e.map((function(e){return e.user})).indexOf(t.publicKey.toString());h(-1===n?"?":n+1)}else h("?")}))}),[t,n,_,h,u]),t.publicKey?Object(D.jsxs)("div",{className:Q.a.Game,children:[Object(D.jsxs)("div",{className:Q.a.Content,children:[Object(D.jsxs)("div",{className:Q.a.GameArea,children:[Object(D.jsx)(G,{user:!0,onProfileClick:function(){return o(!0)}}),Object(D.jsx)(T,{wallet:t.publicKey.toString(),gameId:n,rankings:j,rank:O,reloadRankings:_,setRankings:u,setRank:h,setReloadRankings:g})]}),Object(D.jsx)("div",{className:Q.a.Rankings,children:Object(D.jsx)(U,{wallet:t.publicKey.toString(),rankings:j,rank:O})})]}),Object(D.jsx)(Z,{wallet:t.publicKey.toString(),isProfileOpen:i,setIsProfileOpen:o})]}):Object(D.jsx)(s.a,{to:"/"})},q=function(){var e=Object(p.b)();return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(s.d,{children:[Object(D.jsx)(s.b,{path:"/",element:Object(D.jsx)(I,{wallet:e})}),Object(D.jsx)(s.b,{path:"/play",element:Object(D.jsx)(V,{wallet:e})})]})})},$=function(){var e=h.b.Mainnet,t=Object(o.d)(e),n=Object(a.useMemo)((function(){return[Object(l.a)(),Object(d.a)(),Object(j.a)(),Object(u.a)({options:{clientId:"Get a client ID @ https://developer.tor.us"}}),Object(b.a)(),Object(f.a)({network:e}),Object(O.a)({network:e})]}),[e]);return Object(D.jsx)(x.a,{endpoint:t,children:Object(D.jsx)(_.a,{wallets:n,children:Object(D.jsx)(i.a,{children:Object(D.jsx)(q,{})})})})};r.a.render(Object(D.jsx)($,{}),document.getElementById("root"))},56:function(e,t,n){e.exports={Profile:"Profile_Profile__nD2-Z",ProfileMain:"Profile_ProfileMain__18I6y",ProfileInner:"Profile_ProfileInner__risdd",ProfileBlock:"Profile_ProfileBlock__1_2dO Profile_Profile__nD2-Z",ProfileNone:"Profile_ProfileNone__ePzbk Profile_Profile__nD2-Z",History:"Profile_History__3oShl",HistoryEntry:"Profile_HistoryEntry__3jN5Y"}},75:function(e,t,n){e.exports={Game:"Game_Game__1qzE8",Content:"Game_Content__2W_3p",GameArea:"Game_GameArea__38dyN",Rankings:"Game_Rankings__1yrWx"}}},[[399,1,2]]]);
//# sourceMappingURL=main.a87c2ed9.chunk.js.map